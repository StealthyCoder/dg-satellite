{{ template "header" .}}
    <section class="content-section">
      <h2>{{.Title}}</h2>

      <table class="striped">
        <thead>
          <tr>
            <th>UUID</th>
	    <th>Name</th>
            <th>Created at</th>
            <th>Last seen</th>
            <th>Target</th>
            <th>Tag</th>
            <th>Group</th>
            <th>Labels</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {{ range .Devices }}
          <tr>
            <td><a href="/devices/{{.Uuid}}">{{.Uuid}}</a></td>
	    <td>{{.Labels.name}}</td>
            <td>{{tsToString .CreatedAt}}</td>
            <td>{{tsToString .LastSeen}}</td>
            <td>{{.Target}}</td>
            <td>{{.Tag}}</td>
	    <td>{{.Labels.group}}</td>
            <td>
              {{/* A name and a group labels (if present) go in separate columns */}}
              {{ range $key, $value := .Labels }}
                {{if and (ne $key "name") (ne $key "group")}}<p><strong>{{$key}}:</strong> {{$value}}</p>{{end}}
              {{ end }}
            </td>
            <td>{{ if .IsProd}}<i class="check" title="Production device"></i>{{ end }}</td>
          </tr>
          {{ end }}
        </tbody>
      </table>
    </section>

{{ template "footer"}}
